# Trading RAG Pipeline Environment Configuration
# Copy this file to .env and fill in your actual values

# ===========================================
# REQUIRED: Supabase Configuration
# ===========================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ===========================================
# REQUIRED: OpenRouter Configuration (for LLM)
# ===========================================
OPENROUTER_API_KEY=your-openrouter-api-key

# ===========================================
# OPTIONAL: Service Configuration
# ===========================================
SERVICE_HOST=0.0.0.0
SERVICE_PORT=8000
LOG_LEVEL=INFO

# ===========================================
# OPTIONAL: Qdrant Configuration
# ===========================================
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_COLLECTION_ACTIVE=kb_nomic_embed_text_v1

# ===========================================
# OPTIONAL: Ollama Configuration
# ===========================================
OLLAMA_HOST=localhost
OLLAMA_PORT=11434
EMBED_MODEL=nomic-embed-text
EMBED_BATCH_SIZE=32

# ===========================================
# OPTIONAL: LLM Configuration
# ===========================================
ANSWER_MODEL=anthropic/claude-sonnet-4
MAX_CONTEXT_TOKENS=8000

# ===========================================
# OPTIONAL: Database Connection Pool
# ===========================================
DB_POOL_MIN_SIZE=5
DB_POOL_MAX_SIZE=20

# ===========================================
# OPTIONAL: YouTube API (for metadata enrichment)
# ===========================================
# YOUTUBE_API_KEY=your-youtube-api-key

# ===========================================
# OPTIONAL: Chunking Configuration
# ===========================================
CHUNK_MAX_TOKENS=512
CHUNK_OVERLAP_TOKENS=50
# Tokenizer encoding: cl100k_base (GPT-4), p50k_base (GPT-3), r50k_base (older models)
CHUNK_TOKENIZER_ENCODING=cl100k_base

# ===========================================
# OPTIONAL: Timeouts (in seconds)
# ===========================================
QDRANT_TIMEOUT=30
OLLAMA_TIMEOUT=120
OPENROUTER_TIMEOUT=60

# ===========================================
# OPTIONAL: Request Limits
# ===========================================
# Maximum request body size in bytes (default: 10MB = 10485760)
MAX_REQUEST_BODY_SIZE=10485760

# ===========================================
# OPTIONAL: API Key Authentication
# ===========================================
# Set API_KEY to require authentication for all non-public endpoints
# Public endpoints (no auth required): /health, /metrics, /docs, /openapi.json, /redoc, /
# API_KEY=your-secure-api-key
# API_KEY_HEADER_NAME=X-API-Key
