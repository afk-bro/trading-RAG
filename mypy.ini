[mypy]
# Global settings
python_version = 3.11
ignore_missing_imports = True
warn_return_any = False
warn_unused_ignores = False
check_untyped_defs = False
disallow_untyped_defs = False

# Per-module ignores for legacy code with many type issues
# TODO: Fix these incrementally and remove ignores

[mypy-app.admin.router]
ignore_errors = True

[mypy-app.routers.health]
ignore_errors = True

[mypy-app.routers.kb_trials]
ignore_errors = True

[mypy-app.routers.backtests]
ignore_errors = True

[mypy-app.routers.query]
ignore_errors = True

[mypy-app.routers.kb]
ignore_errors = True

[mypy-app.services.policy_engine]
ignore_errors = True

[mypy-app.services.testing.run_orchestrator]
ignore_errors = True

[mypy-app.services.testing.models]
ignore_errors = True

[mypy-app.services.strategy.runner]
ignore_errors = True

[mypy-app.services.strategy.strategies.breakout_52w_high]
ignore_errors = True

[mypy-app.services.strategies.params]
ignore_errors = True

[mypy-app.services.strategies.registry]
ignore_errors = True

[mypy-app.services.kb.types]
ignore_errors = True

[mypy-app.services.kb.trial_doc]
ignore_errors = True

[mypy-app.services.kb.regime_key]
ignore_errors = True

[mypy-app.services.kb.regime_fsm]
ignore_errors = True

[mypy-app.services.kb.distance]
ignore_errors = True

[mypy-app.services.kb.recommend]
ignore_errors = True

[mypy-app.services.backtest.tuner]
ignore_errors = True

[mypy-app.services.backtest.data]
ignore_errors = True

[mypy-app.services.backtest.runner]
ignore_errors = True

[mypy-app.services.execution.paper_broker]
ignore_errors = True

[mypy-app.repositories.backtests]
ignore_errors = True

[mypy-app.repositories.kb]
ignore_errors = True

[mypy-app.repositories.kb_trials]
ignore_errors = True

[mypy-app.config]
ignore_errors = True

[mypy-app.main]
ignore_errors = True

[mypy-app.schemas]
ignore_errors = True

[mypy-app.repositories.documents]
ignore_errors = True

[mypy-app.repositories.cluster_stats]
ignore_errors = True

[mypy-app.repositories.chunks]
ignore_errors = True

[mypy-app.repositories.vectors]
ignore_errors = True

[mypy-app.jobs.backfill_duration_stats]
ignore_errors = True

[mypy-app.deps.security]
ignore_errors = True

[mypy-app.routers.intents]
ignore_errors = True

[mypy-app.routers.forward_metrics]
ignore_errors = True

[mypy-app.routers.ingest]
ignore_errors = True

[mypy-app.routers.reembed]
ignore_errors = True

[mypy-app.routers.youtube]
ignore_errors = True

[mypy-app.routers.pdf]
ignore_errors = True

[mypy-app.services.llm]
ignore_errors = True

[mypy-app.services.llm_anthropic]
ignore_errors = True

[mypy-app.services.embedder]
ignore_errors = True

[mypy-app.services.query_pipeline]
ignore_errors = True

[mypy-app.services.kb.embed]
ignore_errors = True

[mypy-app.services.kb.rerank]
ignore_errors = True

[mypy-app.services.kb.aggregation]
ignore_errors = True

[mypy-app.jobs.backfill_cluster_stats]
ignore_errors = True

[mypy-app.services.reranker]
ignore_errors = True

[mypy-app.services.kb_pipeline]
ignore_errors = True

[mypy-app.services.kb.retrieval]
ignore_errors = True

[mypy-app.services.kb.ingestion]
ignore_errors = True
